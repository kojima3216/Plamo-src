From 7acfeac975283dfe37d8f0032b005be994703518 Mon Sep 17 00:00:00 2001
From: KATOH Yasufumi <karma@jazz.email.ne.jp>
Date: Tue, 23 Jan 2024 14:35:52 +0900
Subject: [PATCH] CVE-2024-0684

---
 src/split.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/src/split.c b/src/split.c
index a32b2d9..2dd9660 100644
--- a/src/split.c
+++ b/src/split.c
@@ -809,10 +809,7 @@ line_bytes_split (intmax_t n_bytes, char *buf, idx_t bufsize)
             {
               cwrite (n_out == 0, hold, n_hold);
               n_out += n_hold;
-              if (n_hold > bufsize)
-                hold = xirealloc (hold, bufsize);
               n_hold = 0;
-              hold_size = bufsize;
             }
 
           /* Output to eol if present.  */
-- 
2.41.0

